# 共享块存储 {#concept_abt_gpv_xgb .concept}

共享块存储是一种支持多台ECS实例并发读写访问的数据块级存储设备，具备多并发、高性能、高可靠等特性，数据可靠性可以达到 99.9999999%。

**说明：** 共享块存储目前处于公测阶段，您可以单击 [申请公测资格](https://promotion.aliyun.com/ntms/act/vsan.html)。申请成功后，在[块存储产品详情页](https://www.aliyun.com/product/disk)单击**立即购买**。

共享块存储采用分布式三副本机制，为ECS实例提供99.9999999%的数据可靠性保证。支持在可用区内自动复制您的数据，防止意外硬件故障导致的数据不可用，保护您的业务免于组件故障的威胁。就像硬盘一样，您可以对挂载到ECS实例上共享块存储做分区、格式化、创建文件系统等操作，并对数据进行持久化存储。

**说明：** 

-   一块共享块存储最多可以同时挂载到同一地域、同一可用区的8台ECS实例。
-   挂载到实例上时，共享块存储与云盘共享数据盘配额，即一台实例最多挂载16块数据盘。
-   共享块存储只能单独创建，并且只能作数据盘用，可以共享访问。

## 适用场景 {#section_c1n_z2w_xgb .section}

在传统集群架构中，需要多个计算节点能够访问同一份数据，防止当一个或多个计算节点故障时导致业务中断，保证整个高可用集群对外可以持续提供业务服务。因此，重要的数据文件需要放置在共享块存储上，并通过集群文件系统对共享块存储进行统一管理。在前端多个计算节点并发进行读写访问时，保持数据在多个节点间的一致性。

共享块存储专为企业级用户的核心业务高可用架构而设计，适用于shared-everything架构下对块存储设备的共享访问场景，例如，政府、企业和金融行业常用的Oracle RAC数据库高可用架构以及服务器High-availability cluster高可用架构。

## 共享块存储类型 {#sharedBlock .section}

根据性能不同，共享块存储可以分为：

|类型|说明|
|:-|:-|
|SSD共享块存储|采用固态硬盘作为存储介质，能够提供稳定的高随机I/O、高数据可靠性的高性能存储。|
|高效共享块存储|采用固态硬盘与机械硬盘的混合介质作为存储介质。|

## 共享块存储性能 {#section_qhm_gfw_xgb .section}

共享块存储的性能，请参见[块存储性能](cn.zh-CN/块存储/块存储性能.md#)。

## 计费 {#section_inz_nbw_ydb .section}

共享块存储目前处于免费公测阶段，不收费。

## 使用共享块存储 {#section_mnz_nbw_ydb .section}

共享块存储的使用与云盘类似。

挂载共享块存储的操作，请参考视频 [挂载共享块存储到多台ECS实例](https://help.aliyun.com/document_detail/54749.html)。

共享块存储产品本身并不提供集群文件系统，需要您自行安装集群文件系统来管理共享块存储。

正确使用共享块存储的方式是采用集群文件系统进行块设备的统一管理，例如GFS、GPFS等。典型Oracle RAC业务场景中推荐采用ASM统一管理存储卷和文件系统。

如果只是将共享块存储挂载到多台ECS实例，但依旧使用常规文件系统来管理时，会造成以下两个问题：

-   磁盘空间分配冲突

    如果一块共享块存储挂载到多个实例上，当实例A在写文件时，会查询文件系统和可用的磁盘空间，文件写入后会修改实例A上的空间分配记录，但不会修改其他实例的记录。因此，当实例B写入文件时，可能会将实例A已经分配出去的磁盘空间再次分配，造成磁盘空间分配冲突。

-   数据文件不一致

    当实例A读取数据并记录在缓存中后，实例A上另一个进程来访问同样的数据就会直接从缓存中进行读取。但如果此时实例B修改了同样的数据，而实例A并不知道，依旧从缓存中读取数据，则会造成业务数据不一致。


