# 使用快照创建云盘 {#concept_yyn_11b_ydb .concept}

本文介绍如何在云服务器ECS控制台上使用一份快照创建一块云盘，快照对应的历史云盘可以是系统盘或数据盘。创建的云盘可以挂载到同一地域同一可用区下的任何一台ECS实例上。

## 应用场景 {#section_bbc_ybb_ydb .section}

使用快照创建云盘可以读取已有云盘或者误释放云盘的数据，例如：

-   如果您需要获取快照中的某些数据，且不希望通过[回滚云盘](../intl.zh-CN/快照/使用快照/使用快照回滚云盘.md#)的方式实现，您可以使用快照创建一块新云盘，然后从已有云盘中读取数据。
-   当系统盘出现故障导致无法运行实例时，您可以使用系统盘已有的快照创建一块新云盘，再作为数据盘挂载到健康的实例上，从而读取系统盘数据。

## 注意事项 {#section_dbc_ybb_ydb .section}

-   使用快照创建的云盘默认采用[按量付费](../intl.zh-CN/产品定价/按量付费.md#)方式计费，并且只能作数据盘用。如果您需要转换云盘的计费方式，请参见下文[转换计费方式](#)。
-   由于快照存储在[对象存储OSS](../../../../../intl.zh-CN/产品简介/什么是对象存储 OSS.md#)中，在使用快照创建云盘时，云服务器ECS从OSS读取数据并写入云盘，该过程需要一段时间，会造成首次访问时云盘性能下降。建议您在正式使用新云盘前，等待云盘完成所有数据块的读取，避免初期性能下降带来的不便。
-   您在所有地域创建的按量付费数据盘不能超过您在所有地域的按量付费实例数量的五倍。更多详情，请参见[使用限制](intl.zh-CN/产品简介/使用限制.md#)。
-   不支持合并多块云盘。云盘创建后，每块云盘都是独立个体，无法通过格式化将多块云盘空间合并到一起。建议您提前做好云盘数量和容量的规划。
-   已创建的多块云盘，不建议制作LVM（Logical Volume Manager）逻辑卷。因为快照只能备份单块云盘的数据，使用LVM后，回滚云盘时会造成数据差异。

## 前提条件 {#section_hbc_ybb_ydb .section}

您已经为历史系统盘或数据盘创建了快照，并确认快照ID。具体操作，请参见[创建快照](intl.zh-CN/快照/使用快照/创建快照.md#)。

## 操作步骤 {#section_lbc_ybb_ydb .section}

在ECS管理控制台上创建云盘的操作路径如下所示。您也可以通过API [CreateDisk](../intl.zh-CN/API参考/磁盘/CreateDisk.md#)完成操作。

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。
2.  在左侧导航栏，选择**存储与快照** \> **云盘**。
3.  在磁盘列表页右上角，单击**创建云盘**。
4.  选择地域和可用区。

    **说明：** 由于挂载云盘时，实例与云盘必须在同一个地域同一个可用区，请根据实例部署情况选择云盘的可用区。

5.  在创建云盘页面，完成以下选购配置。
    1.  选择云盘类型，可选项有**高效云盘**、**ESSD云盘**以及**SSD云盘**。
    2.  单击**用快照创建磁盘**，并选择一份快照。
    3.  设置云盘的容量，新容量必须大于20 GiB，小于32768 GiB。

        **说明：** 

        -   如果您不设置云盘容量，系统会根据快照对应的源云盘大小自动设置云盘大小。
        -   如果您设置的容量大于快照大小，您必须重新分区才能使用全部容量。
        -   如果您的快照容量小于2048 GiB，但您希望设置的新云盘容量大于2048 GiB，请提前确认快照对应的历史云盘采用的是GPT（Globally Unique Identifier Partition Table，GUID分区表）分区格式。否则，建议您设置为小于2048 GiB，避免配置分区容量时带来数据丢失的风险。更多详情，请参见[分区格式化大于2 TiB云盘](intl.zh-CN/块存储/云盘/分区格式化数据盘/分区格式化大于2 TiB数据盘.md#)。
    4.  设置购买量。
    5.  勾选**《云服务器 ECS 服务条款》**。
6.  确认当前配置和**配置费用**。
7.  单击**确认订单**，根据页面引导完成创建。

回到磁盘列表页后，刷新列表，您可以看到新建的云盘，**磁盘状态**显示为**待挂载**。

## 下一步 {#section_pbc_ybb_ydb .section}

[挂载云盘](intl.zh-CN/块存储/云盘/挂载云盘.md#)

## 转换计费方式 {#section_gvb_o5u_ob6 .section}

使用快照创建的云盘默认采用按量付费计费方式。创建后，您可以转换云盘的计费方式：

-   如果云盘挂载在预付费实例上，可以通过[预付费实例升级配置](intl.zh-CN/实例/升降配实例/升配预付费实例/预付费实例升级配置.md#)转换为预付费云盘。
-   如果云盘挂载在按量付费实例上，可以通过[按量付费转预付费](../intl.zh-CN/产品定价/按量付费转预付费.md#)转换为预付费云盘。

您也可以在[创建ECS实例](../intl.zh-CN/实例/创建实例/使用向导创建实例.md#)的同时使用系统盘或数据盘的快照创建云盘。通过这种方式创建的云盘，计费方式与实例相同。

