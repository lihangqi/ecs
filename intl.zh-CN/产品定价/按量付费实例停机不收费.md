# 按量付费实例停机不收费 {#concept_js1_1fd_5db .concept}

按量付费的VPC类型实例可以开启停机不收费功能，vCPU、内存和公网IP不再产生费用，但云盘仍旧计费。

## 定义 {#section_kvc_4qk_zdb .section}

**实例停机不收费** 是指通过 [控制台](../../../../intl.zh-CN/用户指南/实例/启动或停止实例.md#)、[StopInstance](../../../../intl.zh-CN/API参考/实例/StopInstance.md#) 接口或者 [阿里云CLI](https://www.alibabacloud.com/help/product/29991.htm) 使按量付费的VPC类型ECS实例进入 **已停止**（`Stopped`）状态后，该实例的计算资源（即vCPU和内存）和公网IP地址不再产生费用，但云盘仍旧计费。

## 适用条件 {#section_lvc_4qk_zdb .section}

-   实例停机不收费功能适用于以下条件，即，满足以下条件的资源**不收费**：

    |不收费条件|适用项|
    |:----|:--|
    |计费方式|按量付费|
    |网络类型|VPC|
    |不收费资源|vCPU 、内存、公网IP地址（将被释放）|

    **说明：** 如果您通过控制台、API接口或者阿里云CLI停止实例，该实例的计算资源（即vCPU和内存）不再产生费用。但是，如果您在ECS实例的操作系统中停止实例，该实例会继续产生费用。

-   实例停机不收费功能不适用于以下资源，即，以下情况**会收费**：

    |收费项|描述|
    |:--|:-|
    |本地盘实例|所有本地盘实例，包括但不限于d1、d1ne、ga1、gn5、i1和i2规格族实例。|
    |随实例创建的云盘（包括系统盘和数据盘）、挂载在实例上的数据盘、弹性公网（EIP）带宽、镜像|开启实例停机不收费功能，实例进入 **停机不收费** 模式后，这些资源继续计费。费用说明，请参见 [按量付费](intl.zh-CN/产品定价/按量付费.md#)、[云盘价格信息](https://www.alibabacloud.com/product/ecs)、[公网带宽计费](intl.zh-CN/产品定价/公网带宽计费.md#)、[带宽价格信息](https://www.alibabacloud.com/product/ecs) 和 [EIP收费标准](../../../../intl.zh-CN/产品定价/按量付费.md#)。|
    |启动期间的实例|使用 [控制台](../../../../intl.zh-CN/个人版快速入门/步骤 2：创建ECS实例.md#) 或 [CreateInstance](../../../../intl.zh-CN/API参考/实例/CreateInstance.md#) 接口创建按量付费的VPC类型ECS实例后，第一次启动时从 **已停止**（`Stopped`）状态进入 **已运行**（`Running`）状态这段时间的实例。|
    |因欠费导致停机的实例|实例及关联资源在欠费停机后，也会停止计费，计算资源和公网 IP 也将会被释放。[重开机](../../../../intl.zh-CN/用户指南/实例/重开机.md#) 后，所有资源继续收费。|
    |经典网络下的ECS按量付费实例|进入 **已停止** 状态后，阿里云仍然对实例及关联资源收费，重新启动时公网IP地址和私网IP地址保持不变。|


## 影响 {#section_qvc_4qk_zdb .section}

实例停止并进入停机不收费模式后，会产生以下影响：

-   实例的vCPU和内存不再保留，所以再次启动实例时可能会失败。此时，您可以尝试换一个时间再次启动，或者 [更改实例规格](../../../../intl.zh-CN/用户指南/实例/升降配/按量付费实例变更实例规格.md#) 后再次启动。

-   如果实例分配了公网IP地址，那么IP地址会自动释放。通过 [控制台](../../../../intl.zh-CN/用户指南/实例/启动或停止实例.md#) 或 [StartInstance](../../../../intl.zh-CN/API参考/实例/StartInstance.md#) 启动实例后，实例会被分配一个新的公网IP地址。但是，私网IP地址不受影响，保留不变。

    **说明：** 如果您不希望公网IP地址发生变化，可以 [将公网IP地址转为EIP地址](../../../../intl.zh-CN/用户指南/实例/修改IP地址/公网IP转换为弹性公网IP.md#) 后再停止实例。

-   t5实例停止前累积的CPU积分仍然有效，但是停止后不再累积CPU积分。实例启动后会继续累积CPU积分。详细信息，请参见 [基本概念](../../../../intl.zh-CN/产品简介/实例/突发性能实例/基本概念.md#)。


[更换系统盘](../../../../intl.zh-CN/用户指南/云盘/更换系统盘（公共镜像）.md#)（[ReplaceSystemDisk](../../../../intl.zh-CN/API参考/磁盘/ReplaceSystemDisk.md#)）、[回滚云盘](../../../../intl.zh-CN/用户指南/云盘/回滚云盘.md#)（[ResetDisk](../../../../intl.zh-CN/API参考/磁盘/ResetDisk.md#)）、[重新初始化云盘](../../../../intl.zh-CN/用户指南/云盘/重新初始化云盘.md#)（[ReInitDisk](../../../../intl.zh-CN/API参考/磁盘/ReInitDisk.md#)）或执行其他运维操作时，您需要停止实例，并且需要在短时间内重新启动实例。为了保证实例能及时成功启动并投入生产使用，建议您执行以下任一种操作：

-   登录ECS管理控制台，在 概览 页面关闭 **默认VPC内实例停机不收费**。具体操作，请参见 [关闭功能](#)。

-   登录ECS管理控制台，在停止实例时，勾选 **停止后仍旧保留实例并继续收费**。

-   通过API或者CLI中操作时，在 [StopInstance](../../../../intl.zh-CN/API参考/实例/StopInstance.md#) 中设置 `StoppedMode = KeepCharging`。


## 开启功能 {#default .section}

**方式一：开启所有实例的停机不收费功能**

手动开启 **默认VPC内实例停机不收费** 开启后，默认您账号下所有地域中按量付费的VPC类型实例都能使用实例停机不收费功能。但是，停止实例时，您可以选择是否 **停止后仍旧保留实例并继续收费**。

**说明：** 如果您已经在使用按量付费的VPC类型ECS实例，为了防止意外影响您的系统和应用，您账号下ECS服务不会默认开启实例停机不收费功能。在充分理解并确定这个功能不会对您的系统和应用造成不可控制的影响后，您可以登录ECS管理控制台开启。

按以下步骤开启 **默认VPC内实例停机不收费**：

1.  登录 [ECS管理控制台](https://ecs.console.aliyun.com/#/home)。
2.  在左侧导航栏中，单击 **概览**。
3.  在 **常用操作** 区域，单击 **设置**。
4.  开启 **VPC内实例停机不收费**，确认弹出的警告信息，并单击 **默认VPC内实例停机不收费**。
5.  单击 **确定**。

**方式二：开启单个实例的停机不收费功能**

您可以在 [停止单个实例](../../../../intl.zh-CN/用户指南/实例/启动或停止实例.md#) 时，在弹出的提示框中，单击 **默认VPC内实例停机不收费**，开启该功能。

## 关闭功能 {#disable .section}

**方式一：关闭所有实例的停机不收费功能**

**说明：** 关闭实例停机不收费功能后：

-   该操作对您账号下所有地域的按量付费的VPC类型实例有效。请谨慎操作。
-   当前处于 **已停止**（`Stopped`）状态的实例，如果 **停止模式** 是 **停机不收费**，则仍然不收取费用。重新启动后：

    -   如果实例原来分配了公网IP地址，会被分配一个新的公网IP地址。
    -   如果实例原来绑定了EIP地址，那么EIP地址保持不变。

按以下步骤关闭实例停机不收费功能：

1.  登录 [ECS管理控制台](https://ecs.console.aliyun.com/#/home)。
2.  在左侧导航栏中，单击 **概览**。
3.  在 **常用操作** 区域，单击 **设置**。
4.  关闭 **VPC内实例停机不收费**，确认弹出的警告信息，并单击 **我同意并确定**。
5.  单击 **确定**。

**方式二：关闭单个实例的停机不收费功能**

您可以在 [停止单个实例](../../../../intl.zh-CN/用户指南/实例/启动或停止实例.md#) 时，在弹出的提示框中，勾选 **停止后仍旧保留实例并继续收费**。

