# Network FAQ {#concept_40637_zh .concept}

-   Public bandwidth
    -   [What are the inbound and outbound bandwidths of ECS instances?](#)
    -   [I bought 5 Mbit/s of public bandwidth for my ECS instance. What is the difference between the inbound bandwidth and outbound bandwidth of the instance?](#)
    -   [Does my ECS instance use its public bandwidth exclusively or share the bandwidth with other instances?](#)
    -   [How is the public bandwidth of ECS instances billed?](#)
    -   [Why is 200 Kbit/s of inbound traffic already consumed on my newly created ECS instance?](#)
    -   [How can I view the public traffic statistics of my ECS instance?](#)
    -   [Why is the bandwidth usage of my ECS instance displayed in CloudMonitor different from that displayed in the ECS console?](#)
    -   [My ECS instance has been stopped. Why am I still billed for outbound traffic from it on a pay-as-you-go basis?](#)
-   IP addresses
    -   [How can I query the IP addresses of my ECS instance?](#)
    -   [How can I disable the public NIC of my ECS instance?](#)
-   Network access and traffic direction
    -   [Why can't I access a website hosted on an ECS instance?](#)
    -   [An unusual logon to my ECS instance has been detected. What can I do?](#)
    -   [What is traffic scrubbing?](#)
    -   [How can I cancel traffic scrubbing for my ECS instance?](#)
    -   [How can I request reverse lookup for my ECS instance?](#)
    -   [Can an IP address point to multiple reverse lookup domain names?](#)
-   Public IP addresses
    -   [Can I change the public IP \(IPv4\) address of my ECS instance six hours after the instance is created? How?](#)
    -   [Why can't I find the option to change the public IP address of my ECS instance in the ECS console?](#)
    -   [Apart from the public IP address, can I change the private IP address of my ECS instance?](#)
    -   [If no public IP \(IPv4\) address has been assigned to my ECS instance when the instance was created, how can I assign a public IP address to the instance?](#)
-   Network basics
    -   [What is a BGP data center?](#)
    -   [What are WAN and LAN?](#)
    -   [How can I express a subnet mask?](#)
    -   [How can I plan subnets?](#)

## What are the inbound and outbound bandwidths of ECS instances? {#section_pv3_qbl_qgb .section}

|Bandwidth type|Description|
|:-------------|:----------|
|Inbound bandwidth|The bandwidth for inbound traffic of an ECS instance. For example: -   Traffic that occurs when you download external resources to your ECS instances
-   Traffic that occurs when you upload resources to your ECS instances by using an FTP client

 |
|Outbound bandwidth|The bandwidth for outbound traffic of an ECS instance. For example: -   Traffic that occurs when your ECS instances provide external access
-   Traffic that occurs when you download resources from your ECS instances by using an FTP client

 |

## I bought 5 Mbit/s of public bandwidth for my ECS instance. What is the difference between the inbound bandwidth and outbound bandwidth of the instance? {#section_v44_ona_zjq .section}

The 5 Mbit/s you bought is the outbound bandwidth. The inbound bandwidth of your instance is capped at 100 Mbit/s.

-   Outbound bandwidth is also called downstream bandwidth. The outbound bandwidth of an ECS instance is capped at 200 Mbit/s regardless of whether the instance resides in a VPC or classic network.
-   Inbound bandwidth is also called upstream bandwidth. The maximum inbound bandwidth varies depending on the outbound bandwidth:
    -   When the outbound bandwidth is less than or equal to 100 Mbit/s, the maximum inbound bandwidth is 100 Mbit/s.
    -   When the outbound bandwidth is greater than 100 Mbit/s, the inbound bandwidth is the same as the outbound bandwidth.

## Does my ECS instance use its public bandwidth exclusively or share the bandwidth with other instances? {#section_sp8_7jn_p3g .section}

Your ECS instance uses its public bandwidth exclusively.

## How is the public bandwidth of ECS instances billed? {#section_hex_69p_rar .section}

For details, see [Billing of Internet bandwidth](../intl.en-US/Pricing/Billing of Internet bandwidth.md#).

## Why is 200 Kbit/s of inbound traffic already consumed on my newly created ECS instance? {#section_duq_s7w_t96 .section}

This traffic was generated by Address Resolution Protocol \(ARP\) broadcast packets. Your new ECS instance is assigned to a large network segment. When an ARP request packet is sent to the gateway to request the IP address of an ECS instance within the network segment, the gateway broadcasts the ARP request packet to all the ECS instances within that network segment. Your new ECS instance receives the packet, and inbound traffic is generated. If the IP address of your new ECS instance is not requested, the instance does not reply with an ARP response packet.

## How can I view the public traffic statistics of my ECS instance? {#section_r5a_u6t_chb .section}

To view the public traffic statistics about your ECS instance, perform the following steps:

1.  Log on to the [ECS console](https://ecs.console.aliyun.com).
2.  In the top navigation bar of the ECS console, choose **Bill Management** \> **Bill Management**.
3.  In the left-side navigation pane, choose **Bill** \> **Bill**.
4.  On the Bills page that appears, click the **Bills** tab. Specify a **billing period**. Then, click the filter icon to the right of **Product Detail** and select **Elastic Compute Service \(ECS\) - Pay by quantity** from the option list.
5.  Click **Export Billing Overview \(CSV\)**. In the Export Billing Overview \(CSV\) dialog box, enter the captcha and click **OK**.
6.  Open the exported CSV file to view the public traffic statistics about your ECS instance.

## Why is the bandwidth usage of my ECS instance displayed in CloudMonitor different from that displayed in the ECS console? {#section_tsb_lpy_gvz .section}

ECS instances function as back-end servers of SLB instances and use the Layer 7 HTTP forwarding model. In this forwarding model, SLB instances forward client requests to ECS instances, and the ECS instances use their outbound bandwidth to return responses to the corresponding users. The bandwidth consumed by these responses is not displayed in the ECS console, but the traffic generated by the responses is counted towards the outbound traffic of the SLB instances and displayed in CloudMonitor. Therefore, the bandwidth usage of your ECS instance displayed in CloudMonitor is different from that displayed in the ECS console.

## My ECS instance has been stopped. Why am I still billed for outbound traffic from it on a pay-as-you-go basis? {#section_d7h_fs2_xu8 .section}

-   Problem description: Your ECS instance is in the **Stopped** state when viewed from the ECS console, but is in the **Cleaning** state when viewed from the Anti-DDoS basic console. You are billed for outbound traffic from the instance on a pay-as-you-go basis every hour.
-   Cause: HTTP flood protection is enabled for your ECS instance. After HTTP flood protection is enabled, the security mechanism sends probe packets to potential attack sources, which generates a large volume of outbound traffic.
-   Solution: Disable HTTP flood protection for your ECS instance.

## How can I query the IP addresses of my ECS instance? {#section_vpl_qbg_qgb .section}

-   Linux instance

    Run the `Ifconfig` command to view NIC information. View the IP addresses, subnet masks, gateways, DNS servers, and MAC address in the command output.

-   Windows instance

    In the CLI, run the `ipconfig /all` command to view NIC information. View the IP addresses, subnet masks, gateways, DNS servers, and MAC address in the command output.


## How can I disable the public NIC of my ECS instance? {#section_bxf_ywf_qgb .section}

-   Linux instance
    1.  Run the `ifconfig` command to view the public NIC name of your instance.
    2.  Run the `Ifdown` command to disable the public NIC. For example, if the public NIC name is `eth1`, use the `ifdown eth1` command.

        **Note:** You can also run the Ifup command to re-enable the NIC. For example, if the public NIC name is `eth1`, use the `ifup eth1` command.

-   Windows instance
    1.  In the CLI, run the `ipconfig` command to view information about the public NIC.
    2.  Open the Control Panel and choose **Network and Internet** \> **View network status and tasks** \> ****. In the Network and Sharing Center window that appears, click Change adapter settings in the left-side navigation pane to disable the public NIC.

## Why can't I access a website hosted on an ECS instance? A message similar to "Sorry, your access is blocked because the requested URL may pose a security threat to the website" is displayed. {#section_cwr_y3g_4gb .section}

-   Problem description: When you access a website built on an ECS instance, you are prompted with a message similar to "Sorry, your access is blocked because the requested URL may pose a security threat to the website."
-   Cause: Web Application Firewall \(WAF\) identifies your access to the requested URL as an attack and blocks your access.
-   Solution: Add the public IP address, Elastic IP Address, or NAT IP address of the ECS instance to the WAF whitelist. For more information, see [Avoid Anti-DDoS Basic false positives by using a whitelist](../../../../../intl.en-US/Anti-DDoS Basic Service/User Guide/Avoid Anti-DDoS Basic false positives by using a whitelist.md#).

## An unusual logon to my ECS instance has been detected. What can I do? {#section_mgg_dhg_4gb .section}

Perform the following steps to solve the problem:

1.  Check the logon time to see whether this logon is performed by you or another administrator.
2.  If no, it is an unauthorized logon. Perform the following steps:
    1.  [Reset the password](../intl.en-US/Instances/Manage instances/Reset an instance logon password.md#).
    2.  Check whether the ECS instance is infected by viruses..
    3.  Configure security groups to [allow only specific IP addresses to log on](../intl.en-US/Security/Security groups/Scenarios.md#specifyIpAccess).

## What is traffic scrubbing? {#section_4xo_and_tfv .section}

The traffic scrubbing service monitors the inbound traffic to ECS instances in real time, and provides quick identification of unusual traffic, such as DDoS attacks. Anti-DDoS Basic, which includes the traffic scrubbing service, is enabled on ECS instances by default. When ECS instances are under attack, the traffic scrubbing service automatically detects the attacks and scrubs the traffic for ECS instances without affecting your services. When an anomaly is detected, the traffic scrubbing service redirects suspicious traffic from the network where the destination ECS instance resides to the scrubbing device. The scrubbing device identifies and removes malicious traffic and returns legitimate traffic to the network. This ensures only legitimate traffic is forwarded to the destination ECS instance.

## How can I cancel traffic scrubbing for my ECS instance? {#section_r2g_vg8_gtv .section}

1.  Log on to the [Alibaba Cloud Security Anti-DDoS Basic console](https://yundun.console.aliyun.com/?p=ddosnext).
2.  Click the ECS tab. Then in the ECS instance list, find the IP address of your ECS instance that is the cleaning state. In the Actions column, click **View Details**.
3.  Click **Cancel cleaning**.

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/10166/156695887950257_en-US.png)


## How can I request reverse lookup for my ECS instance? {#section_24x_y33_pml .section}

Reverse lookup is used in mail services. It enables mail servers to reject all mails sent from the IP addresses that are mapped to unregistered domain names. Most of spammers use dynamic IP addresses or IP addresses that are mapped to unregistered domain names to send unwanted emails and escape tracking. After reverse lookup is enabled on a mail server, the server rejects the mails that are sent from dynamic IP addresses and unregistered domains. This greatly reduces the number of spams.

You can submit a ticket in the [ticket system](https://workorder-intl.console.aliyun.com/#/ticket/createIndex) to request reverse lookup for your ECS instance. We recommend that you specify the region, public IP address, and registered domain name of your ECS instance in the ticket to improve the ticket processing efficiency.

After your request is approved, you can use the dig command to check whether reverse lookup has taken effect for your instance. For example:

``` {#codeblock_5xx_agu_nvz}
dig -x 121.196.255.** +trace +nodnssec
```

If information similar to the following is displayed in the command output, reverse lookup has taken effect for you instance.

``` {#codeblock_3fo_nm6_0yy}
1.255.196.121.in-addr.arpa. 3600 IN PTR ops.alidns.com.
```

## Can an IP address point to multiple reverse lookup domain names? {#section_0u1_fng_nzy .section}

No, each IP address can point to only one reverse lookup domain name. For example, you cannot configure an IP address such as 255.196.121.1 to be reversely resolved to multiple domain names such as mail.abc.com, mail.ospf.com, and mail.zebra.com.

## Can I change the public IP \(IPv4\) address of my ECS instance six hours after the instance is created? How? {#section_c7c_7n5_fae .section}

-   For instances in a VPC network, the public IP address can be converted into an Elastic IP Address \(EIP\). For information about how to convert the IP address, see [Convert public IP address to EIP address](intl.en-US/Network/Change IPv4 addresses/Convert public IP address to EIP address.md#).
-   For instances in a classic network, the public IP address cannot be changed if an instance has been created for more than six hours.

## Why can't I find the option to change the public IP address of my ECS instance in the ECS console? {#section_y27_eqe_lgp .section}

-   By default, the **Change Public IP Address** option is not displayed for instances that were created more than six hours ago.
-   If you enable the [no fees for stopped VPC instances](../DNA0011810291/EN-US_TP_9595.dita#concept_js1_1fd_5db) feature for an instance, make sure that this feature is disabled when you stop the instance. Otherwise, the instance will be temporarily released and the **Change Public IP Address** option is not displayed. You can disable this feature by selecting the **Keep Stopped Instances and Continue Billing** check box in the Stop dialog box.

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9656/156695887944752_en-US.jpg)


## Apart from the public IP address, can I change the private IP address of my ECS instance? {#section_q67_0xd_eps .section}

-   This operation is allowed for instances in a VPC network. For information about how to change the private IP address, see [EN-US\_TP\_9658.md\#](intl.en-US/Network/Change IPv4 addresses/Change the private IP of an ECS instance.md#).
-   This operation is not allowed for instances in a classic network.

## If no public IP \(IPv4\) address has been assigned to my ECS instance when the instance was created, how can I assign a public IP address to the instance? {#section_9rr_e3x_ks1 .section}

-   For a Subscription instance, you can obtain the public IP address by upgrading or downgrading the network bandwidth configuration. For more information, see [Overview of configuration changes](../intl.en-US/Instances/Change configurations/Overview of configuration changes.md#).
-   For a Pay-As-You-Go instance, you cannot obtain the public IP address after the instance is created. You can only [bind an EIP address](https://www.alibabacloud.com/help/doc-detail/27714.htm).

## What is a BGP data center? {#section_hmd_spf_qgb .section}

Border Gateway Protocol \(BGP\) is primarily used for interconnection between Internet autonomous systems \(AS\). The main function of BGP is to control route propagation and select the best routes. A BGP data center is a data center that uses BGP to implement dual-line or multi-line interconnection.

China Netcom, China Telecom, China Railcom, and some large private-owned IDC carriers all have autonomous system numbers \(ASNs\). Most major network carriers in China use BGP to achieve multi-line interconnection with their own ASNs.

To achieve multi-line interconnection in this manner, an IDC must obtain a CIDR block and an ASN from the China Internet Network Information Center \(CNNIC\) or Asia-Pacific Network Information Center \(APNIC\), and then broadcast this CIDR block to the networks of other carriers through BGP. After networks are interconnected through BGP, the backbone routers of the network carriers will determine the optimal routes to the CIDR block of the IDC to ensure high-speed access for users of different network carriers.

## What are WAN and LAN? {#section_o52_nlg_4gb .section}

-   A wide area network \(WAN\) is also known as an external or public network. It is a telecommunications network that connects different smaller networks, including local area networks \(LANs\) and metro area networks \(MANs\). Each WAN extends over a large geographical area, such as across cities, states, or countries, and may cover continents to provide telecommunications services and form an international telecommunications network. WAN is not equal to Internet.
-   A LAN is also known as an internal network. A LAN is a network that interconnects computers within a small area. Users can manage files, share application software and printers, schedule work for work groups, and communicate with each other such as sending emails or faxes within a LAN. A LAN is a closed network that can consist of two computers in an office or thousands of computers in a company. In Alibaba Cloud public cloud, ECS instances in the same region can be created in the same type of networks and communicate with each other through internal networks. ECS instances in different regions are isolated from each other.

## How can I express a subnet mask? {#section_nw6_q4l_pdt .section}

You can express a subnet mask in either of the following method:

-   Dotted decimal notation. For example:

    The default subnet mask of a class A network is 255.0.0.0.

-   Append a forward slash \(/\) and a number ranging from 1 to 32 to the end of an IP address to define a subnet mask. The number indicates the length of the network identification bit in the subnet mask. For example:

    192.168.0.3/24.


## How can I plan subnets? {#section_g8p_l4s_2e8 .section}

For the best practices of planning subnets, see [Plan and Design VPC](https://help.aliyun.com/document_detail/54095.html).

