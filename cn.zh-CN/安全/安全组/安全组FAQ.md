# 安全组FAQ {#concept_mhp_prm_lgb .concept}

-   [什么是安全组？](#)
-   [为什么要在创建 ECS 实例时选择安全组？](#)
-   [为什么专有网络实例不能设置公网安全组规则？](#)
-   [为什么无法访问 TCP 25 端口？](#)
-   [为什么还是无法访问 80 端口？](#)
-   [为什么安全组里自动添加了很多规则？](#)
-   [为什么有的安全组规则的优先级是 110？](#)
-   [为什么实例加入安全组时提示：规则数量超限？](#)
-   [创建 ECS 实例前，未创建安全组怎么办？](#)
-   [安全组配置错误会造成什么影响？](#)
-   [安全组的入方向规则和出方向规则区分计数吗？](#)
-   [是否可以调整安全组规则的数量上限？](#)
-   [VPC 类型实例的安全组数量上限调整后，只对调整日期后新增的安全组生效吗？](#)

## 什么是安全组？ {#section_kvb_jxz_lgb .section}

安全组是一种虚拟防火墙。用于设置单台或多台云服务器的网络访问控制，它是重要的网络安全隔离手段，您可以在云端划分安全域。

每个实例至少属于一个安全组，在创建的时候就需要指定。同一安全组内的实例之间网络互通，不同安全组的实例之间默认内网不通，可以授权两个安全组之间互访。详情请参见[安全组概述](cn.zh-CN/安全/安全组/安全组概述.md#)。

## 为什么要在创建 ECS 实例时选择安全组？ {#section_jym_lxz_lgb .section}

在创建 ECS 实例之前，必须选择安全组来划分应用环境的安全域，授权安全组规则进行合理的网络安全隔离。

如果您在购买 ECS 实例时不选择安全组，创建的 ECS 实例都会分配到一个固定的安全组，您还需要重新通过移出安全组以及加入新的安全组来实现网络安全隔离。

## 为什么专有网络实例不能设置公网安全组规则？ {#section_rff_5xz_lgb .section}

专有网络（VPC）实例的公网访问通过内网网卡映射完成，您在实例内部看不到公网网卡，在安全组里只能设置内网规则。您设置的安全组规则同时对内网和公网生效。

## 为什么无法访问 TCP 25 端口？ {#section_kmc_yxz_lgb .section}

TCP 25 端口是默认的邮箱服务端口。基于安全考虑，云服务器 ECS 的 25 端口默认受限。建议您使用 465 端口发送邮件。具体设置，请参见[使用 SSL 加密 465 端口发信样例及 Demo](https://help.aliyun.com/document_detail/60692.html)。如果您只能使用 TCP 25 端口，请申请解封。具体操作，请参见[TCP 25 端口控制台解封申请](https://help.aliyun.com/document_detail/56130.html)。更多应用，请参见[安全组应用案例](cn.zh-CN/安全/安全组/安全组应用案例.md#)。

## 为什么还是无法访问 80 端口？ {#section_avg_cyz_lgb .section}

请参见[检查 TCP 80 端口是否正常工作](https://help.aliyun.com/document_detail/59367.html)。

## 为什么安全组里自动添加了很多规则？ {#section_fxk_zxz_lgb .section}

以下两种情况，可能导致您的安全组里自动添加了很多规则：

-   如果您访问过 DMS，安全组中就会自动添加相关的规则，请参见[数据管理 DMS 登录云服务器的 IP 是什么](https://help.aliyun.com/document_detail/51251.html)。
-   如果您近期通过阿里云数据传输 DTS 功能迁移过数据，安全组中会自动添加 DTS 的服务 IP 地址相关的规则。更多详情，请参见[ECS 安全组被添加内网 IP 地址](https://help.aliyun.com/knowledge_detail/40625.html)。

## 为什么有的安全组规则的优先级是 110？ {#section_ohr_1yz_lgb .section}

优先级为 110 的安全组规则是由系统创建的默认安全组规则，表示默认规则的优先级永远比您手动添加的安全组规则低。手动添加安全组规则时，优先级只能设置为 1 ~ 100。

## 为什么实例加入安全组时提示：规则数量超限？ {#section_vgd_1zz_lgb .section}

作用于一个实例（主网卡）的安全组规则数量上限 = 该实例允许加入的安全组数量 x 每个安全组最大规则数量。

如果提示**加入安全组失败，作用在该实例上的安全组规则数量已达上限**，说明实际作用于当前实例上的规则总数已经超过数量上限。

## 创建 ECS 实例前，未创建安全组怎么办？ {#section_mkc_wxz_lgb .section}

如果您在创建 ECS 实例前，未创建安全组，您可以选择默认安全组。默认的安全组放行了常用端口，如 TCP 22 端口、3389 端口等。详情请参见[安全组默认规则](../../../../cn.zh-CN/隐藏/新架构后需要隐藏的文档汇总/安全/安全组默认规则.md#)。

## 安全组配置错误会造成什么影响？ {#section_qrf_nxz_lgb .section}

安全组配置错误会导致 ECS 实例在私网或公网与其他设备之间的访问失败。比如：

-   无法从本地远程连接（SSH）Linux 实例或者远程桌面连接 Windows 实例。
-   无法远程`ping`ECS 实例的公网 IP。
-   无法通过 HTTP 或 HTTPS 协议访问 ECS 实例提供的 Web 服务。
-   无法通过内网访问其他 ECS 实例。

## 安全组的入方向规则和出方向规则区分计数吗？ {#section_bll_vyz_lgb .section}

不区分。每个安全组的入方向规则与出方向规则的总数不能超过 100。

## 是否可以调整安全组规则的数量上限？ {#section_qnp_ryz_lgb .section}

不可以，每个安全组最多可以包含 100 条安全组规则。如果当前数量上限无法满足您的使用需求，建议您按照以下步骤操作：

1.  检查是否存在冗余规则。您也可以[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex.htm)，阿里云技术支持将提供检查服务。
2.  如果存在冗余规则，请清除冗余规则；如果不存在冗余规则，您可以创建多个安全组。

**说明：** 目前，一个实例中的每个弹性网卡默认最多可以加入 5 个安全组，所以一个实例的每个弹性网卡最多可以包含 500 条安全组规则，能够满足绝大多数场景的需求。

## VPC 类型实例的安全组数量上限调整后，只对调整日期后新增的安全组生效吗？ {#section_ftt_wyz_lgb .section}

不是。该上限调整对调整日期之前和之后创建的所有 VPC 类型实例的安全组都生效。

