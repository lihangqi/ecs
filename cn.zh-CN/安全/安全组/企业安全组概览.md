# 企业安全组概览 {#concept_388533 .concept}

企业级安全组拥有更高的ECS实例和弹性网卡数量容纳能力，以及无限制的私网IP地址管理能力，统一采用专有网络VPC，同时简化了安全组规则设置策略，更便于使用。企业级安全组适用于对运维效率、ECS实例规格以及计算节点规模有更高需求的场景。

## 功能对比 {#section_ffp_qw1_dqz .section}

由于ECS实例以及弹性网卡不能同时加入普通安全组和企业安全组，建议您了解两种类型安全组的功能区别，并自行规划网络环境。更多有关普通安全组的详情，请参见[安全组概述](cn.zh-CN/安全/安全组/安全组概览.md#)。

|功能对比|普通安全组|企业安全组|
|----|-----|-----|
|是否支持所有实例规格|是|否，实例规格必须同时支持IPv6功能|
|是否支持专有网络VPC|是|是|
|是否支持经典网络|是|否|
|是否支持设置规则优先级|是|否|
|是否支持授权给其他安全组|是|否|
|是否支持手动设置允许访问的安全组规则|是|是|
|是否支持手动设置拒绝访问的安全组规则|是|否，企业安全组默认拒绝任何访问请求|
|支持的弹性网卡数量|受安全组内ECS实例数量限制|50000|
|是否支持绑定弹性网卡到任意实例规格|是，但实例网络类型必须是专有网络VPC|否，实例规格必须同时支持IPv6功能|
|能容纳的私网IP地址数量|2000|无限量|

## 使用限制 {#section_xlw_3c1_uwi .section}

-   2019年5月30日之前创建的ECS实例不可以加入企业安全组。
-   实例规格必须同时支持IPv6功能时，才可以使用企业安全组。更多详情，请参见[实例规格族](../../../../cn.zh-CN/实例/实例规格族.md#)。
-   ECS实例和弹性网卡对所属的安全组类型有以下要求：
    -   一台ECS实例不能同时加入普通安全组和企业安全组。
    -   一张弹性网卡不能同时加入普通安全组和企业安全组。
    -   弹性网卡绑定到ECS实例时，两者的所属安全组类型必须相同。

## 控制台操作 {#section_mc4_m5l_zua .section}

在ECS管理控制台上，您可以按以下流程使用企业安全组。

1.  创建一个企业安全组，**安全组类型**选择为**企业级安全组**。详细步骤请参见[创建安全组](cn.zh-CN/安全/安全组/创建安全组.md#)。
2.  添加一条允许访问的企业安全组规则。详细步骤请参见[添加安全组规则](cn.zh-CN/安全/安全组/添加安全组规则.md#)。

    企业级安全组等同于通信白名单，只支持创建允许访问的规则，规则之间不存在优先级，授权对象只能是IP地址段不能是安全组。

3.  将一台支持IPv6功能的ECS实例加入到企业安全组，一台ECS实例不能同时加入普通和企业两种安全组。详细步骤请参见[ECS实例加入安全组](cn.zh-CN/安全/安全组/ECS实例加入安全组.md#)。
4.  在企业安全组中使用弹性网卡的步骤如下：
    1.  如果弹性网卡在普通安全组中，通过[修改弹性网卡](../../../../cn.zh-CN/网络/弹性网卡/修改弹性网卡.md#)加入到企业安全组中。详细步骤请参见[修改弹性网卡](../../../../cn.zh-CN/网络/弹性网卡/修改弹性网卡.md#)。
    2.  将弹性网卡绑定到ECS实例。详细步骤请参见[绑定弹性网卡](../../../../cn.zh-CN/网络/弹性网卡/绑定弹性网卡.md#)。
5.  （可选）管理企业安全组，如添加标签、修改名称与描述、管理企业安全组内的ECS实例等。详细步骤请参见[管理企业安全组](cn.zh-CN/安全/安全组/删除安全组.md#)。

## API操作 {#section_mko_rpm_zop .section}

1.  调用[CreateSecurityGroup](../../../../cn.zh-CN/API参考/安全组/CreateSecurityGroup.md#)并将SecurityGroupType设置为enterprise。

    在创建安全组之前，您需要确保有可用的专有网络VPC与虚拟交换机。

2.  调用[AuthorizeSecurityGroup](../../../../cn.zh-CN/API参考/安全组/AuthorizeSecurityGroup.md#)添加一条入方向上允许访问的企业安全组规则，授权对象授权对象只能是IP地址段，不能是安全组。

    企业级安全组等同于白名单，策略（Policy）默认采用允许访问（accept）的规则，无需设置优先级（Priority）。您只需要指定通信协议（IpProtocol）、通信端口区间（PortRange）、（可选）源通信端口区间（SourcePortRange）、源IP地址段（SourceCidrIp）、（可选）目的端IP地址段（DestCiderIp）。

3.  调用[AuthorizeSecurityGroupEgress](../../../../cn.zh-CN/API参考/安全组/AuthorizeSecurityGroupEgress.md#)添加一条出方向上的企业安全组规则。
4.  调用[JoinSecurityGroup](../../../../cn.zh-CN/API参考/安全组/JoinSecurityGroup.md#)将专有网络VPC类型ECS实例入企业安全组。
5.  在企业安全组中使用弹性网卡的步骤如下：
    1.  如果弹性网卡在普通安全组中，调用[ModifyNetworkInterfaceAttribute](../../../../cn.zh-CN/API参考/弹性网卡/ModifyNetworkInterfaceAttribute.md#)将弹性网卡加入到企业安全组。
    2.  调用[AttachNetworkInterface](../../../../cn.zh-CN/API参考/弹性网卡/AttachNetworkInterface.md#)将已加入企业安全组的网卡挂载到ECS实例上。
6.  （可选）调用[DescribeSecurityGroups](../../../../cn.zh-CN/API参考/安全组/DescribeSecurityGroups.md#)查看您在当前地域下已创建的安全组列表。

