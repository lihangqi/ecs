# 监控 {#concept_fft_3xz_xdb .concept}

监控您的ECS实例是否健康非常重要，您需要确保用户始终可以快速打开您的网站和应用，或者快速完成数据处理和渲染等任务。阿里云提供了监控数据收集、可视化以及实时监控告警等服务，确保您的实例始终处于正常的运行状态。

## 监控详情 {#section_thh_2xr_w2b .section}

目前，您可以通过ECS自带监控服务和云监控服务监控实例。ECS自带监控服务提供vCPU使用率、网络流量和磁盘I/O监控。云监控提供更加精细化的监控粒度，更多详情，请参见[监控项说明](../../../../../cn.zh-CN/用户指南/主机监控/监控项说明.md#)。以下是对部分监控信息的解析：

-   vCPU：阿里云提供实例vCPU使用率监控数据，单位为百分比。百分比数值越高，实例vCPU负载越高。您可以通过ECS管理控制台、云监控管理控制台、调用ECS API或者[远程连接](cn.zh-CN/实例/连接实例/连接方式导航.md#)实例后查询监控数据。以下是远程连接实例后查看vCPU使用率的方式：
    -   Windows实例：在任务管理器中查看vCPU使用情况，您可以按vCPU使用率排序，定位占用实例vCPU资源的进程。
    -   Linux实例：运行top命令查看vCPU使用情况。在键盘上按下**Shift**+**P**根据vCPU使用率排序，定位占用实例vCPU资源的进程。
-   网络流量：阿里云提供实例出方向和入方向的网络流量监控数据，单位为kbps。ECS自带监控服务一般提供公网流量监控，云监控可以获取公网和内网流量监控。例如，您的公网出网带宽为1 Mbps，当出网流量达到1024 kbps，表示您的公网带宽已经满负荷。

## ECS自带监控服务 {#section_o2c_nxz_xdb .section}

在ECS管理控制台上查看监控信息的步骤如下：

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。
2.  在左侧导航栏，选择**实例与镜像** \> **实例**。
3.  在顶部状态栏处，选择地域。
4.  找到目标实例，单击实例名称。
5.  在实例详情页面，您可以看到监控信息，包括vCPU使用率和出入网流量情况。

    1.  单击![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9747/15614278769889_zh-CN.png)图标可以设置监控时间段。

        **说明：** 由于显示的聚合方式不一样，选择时间段的长短会影响显示的精度。选择时间范围越小，显示效果越精细。例如，5分钟和15分钟的平均值会显示不一样的结果。

    2.  （可选）单击**设置报警规则**前往云监控控制台设置vCPU使用率和网络流量报警规则。更多详情，请参见[报警服务概览](../../../../../cn.zh-CN/用户指南/报警服务/报警服务概览.md#)。
    3.  （可选）单击**查看内存等更多指标**前往云监控控制台收集更多数据，等待片刻后，监控数据会更新到最新状态。
    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9747/15614278779888_zh-CN.png)


您也可以使用ECS API [DescribeInstanceMonitorData](../cn.zh-CN/API参考/运维与监控/DescribeInstanceMonitorData.md#)、[DescribeDiskMonitorData](../cn.zh-CN/API参考/运维与监控/DescribeDiskMonitorData.md#)和[DescribeEniMonitorData](../cn.zh-CN/API参考/运维与监控/DescribeEniMonitorData.md#)获取监控数据。

以下为ECS自带监控项的详细列表，指标采集粒度为1分钟。

|监控项|描述及单位|
|:--|:----|
|实例|实例ID|
|vCPU|实例vCPU的使用比例，单位：%|
|内网入方向流量|实例在接收的内网数据流量，单位：kbits|
|内网出方向流量|实例在发送的内网数据流量，单位：kbits|
|内网带宽|实例内网带宽，单位时间内的网络流量，单位：kbits/s|
|公网入方向流量|实例接收的公网数据流量，单位：kbits|
|公网出方向流量|实例发送的公网数据流量，单位：kbits|
|公网带宽|实例公网带宽，单位时间内的网络流量，单位：kbits/s|
|系统盘读操作|系统盘每秒读取字节总数，单位：次/s|
|系统盘写操作|系统盘每秒写入字节总数，单位：次/s|
|系统盘读带宽|系统盘每秒读取次数，单位：Byte/s|
|系统盘写带宽|系统盘每秒写入次数，单位：Byte/s|

## 云监控 {#section_ozt_sxz_xdb .section}

云监控为您提供开箱即用的企业级开放型一站式监控解决方案。云监控为您的ECS提供主机监控服务，更多详情，请参见[主机监控概览](../../../../../cn.zh-CN/用户指南/主机监控/主机监控概览.md#)。以下步骤示范如何从云监控管理控制台获取ECS实例监控数据。

1.  登录[云监控管理控制台](https://cloudmonitor.console.aliyun.com/)。
2.  在左侧导航栏中，单击**主机监控**。
3.  找到目标实例。
4.  （可选）如果实例未安装云监控插件，单击**点击安装**更新插件。
5.  单击**监控图表**获取监控数据。
6.  单击**报警规则**设置报警规则。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9747/15614278773939_zh-CN.png)


## 附录：带宽单位相关知识 {#section_szt_sxz_xdb .section}

**Kb和KB的区别**

-   计算机中信息由二进制0和1表示，每个0或1被称作一个位（bit），用小写b表示。8个bit构成1个字节（Byte），类似0101 0010，用大写B表示，1 Byte=8 bits（1B=8b）。
-   使用大写K或小写k表示千时，Kb即为千位，KB即为千字节。

ECS自带的网络流量监控中，ps指/s，即每秒。kbps指网络速度，即每秒传送多少千位信息。通常情况下，描述带宽时常省略bps。例如，4M带宽的完整写法应为4 Mbps。

**带宽与下载速度的关系**

-   误区：带宽是多少，下载速度就是多少。
-   正确：以1Mbps带宽为例，1KB=8Kb，1Mbps=125KB/s，1kbps=1000bps

    1Mbps带宽的下载速率，理论上为125KB/s，而实例中一些应用程序会占用少量带宽，例如远程连接，因此实际下载速率常为100 KB/s~110KB/s。


