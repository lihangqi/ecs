# 什么是抢占式实例 {#concept_t3p_gv2_5db .concept}

抢占式实例是一种按需实例，旨在降低您部分场景下使用ECS的成本。

## 抢占式实例介绍 {#section_pgb_zcy_wgb .section}

创建抢占式实例时，您需要指定出价模式，当指定的实例规格当前市场价格低于您的出价时，您就能成功创建抢占式实例，并按当前市场价格计费。抢占式实例创建成功后，操作与按量付费实例相同，您也可以将它与其他云产品（如云盘、EIP地址等）组合使用。

抢占式实例一旦创建就拥有一小时保护期，即在创建后第一个小时内，我们不会因为市场供需关系而释放您的实例，您可以在该抢占式实例上正常运行业务。超过保护周期，即一小时后，我们每5分钟检测一次实例规格当前市场价格和库存，如果某一时刻的市场价格高于您的出价或资源库存不足，我们将释放您的抢占式实例。

**说明：** 实例释放后数据无法恢复。建议您提前[创建快照](../../../../cn.zh-CN/快照/使用快照/创建快照.md#)备份数据。

抢占式实例的生命周期如下图所示。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/9552/15596430385106_zh-CN.png)

过了保护周期后，我们会因为市场价格变化或资源库存调整等因素自动释放您的抢占式实例。实例创建之后，您能[主动释放抢占式实例](../../../../cn.zh-CN/实例/管理实例/释放实例.md#)。

因为市场价格变化或资源库存调整而被动释放时，抢占式实例会进入 **待回收** 状态，约5分钟后实例自动释放。您可以通过[实例元数据](../../../../cn.zh-CN/实例/管理实例/使用实例元数据/什么是实例元数据.md#)或者[DescribeInstances](../../../../cn.zh-CN/API参考/实例/DescribeInstances.md#)接口返回的 `OperationLocks` 信息查看实例是否进入 **待回收** 状态。

**说明：** 虽然通过API可以知道抢占式实例是否进入 **待回收** 状态，并在回收等待的时间里保存少量数据，但是我们仍然建议您将应用设计成在抢占式实例立即回收的情况下也可以正常恢复工作。您可以通过主动释放实例检测在抢占式实例立即回收的情况下应用是否正常工作。

一般，我们会从出价最低的实例开始终止抢占式实例。如果多个抢占式实例的出价相同，则随机确定实例的终止顺序。

关于抢占式实例配额，请参见[使用限制](../../../../cn.zh-CN/产品简介/使用限制.md#)。

## 应用场景 {#section_fdc_jt5_ydb .section}

抢占式实例适用于无状态的应用场景，比如可弹性伸缩的Web站点服务、图像渲染、大数据分析和大规模并行计算等。您的应用程序的分布度、可扩展性和容错能力越高，使用抢占式实例越能节省成本和提升吞吐量。

您可以在抢占式实例上部署以下常见业务：

-   实时分析业务
-   大数据业务
-   地理空间勘测分析业务
-   图像和媒体编码业务
-   科学计算业务
-   可弹性伸缩的业务站点、网络爬虫业务
-   图像和媒体编码业务
-   测试业务

有状态应用，比如数据库，不宜使用抢占式实例，因为竞价失败等因素导致实例被释放时，应用状态难以保存。

## 价格和计费 {#section_mdc_jt5_ydb .section}

抢占式实例的价格和计费有以下特点：

-   **价格** 

    抢占式实例的价格是指实例规格（包括vCPU和内存）的价格，不包括系统盘、数据盘、网络带宽等资源的价格。

    系统盘、数据盘按[按量付费](../../../../cn.zh-CN/产品定价/按量付费.md#)规则计费。网络带宽按按量付费实例的带宽计费规则计费，详细信息，请参见[公网带宽计费](../../../../cn.zh-CN/产品定价/公网带宽计费.md#)。

-   **市场价格** 

    创建抢占式实例时，如果出价高于当前市场价格而且资源库存充足，您的实例就会运行。

    在一小时的保护周期内，实例规格会按照市场价格计费。超过保护周期，即一小时后，按照实时的市场价格计费。

    抢占式实例的市场价格会因为市场对某一种实例规格的供需变化而浮动。因此，您可以充分利用抢占式实例的价格浮动特性，在适当的时间购买抢占式实例，降低计算成本，并在整体成本下降的前提下，提升业务在该时间周期内的吞吐量。

-   **计费方式** 

    抢占式实例按秒计费。成功创建实例时的市场价格为小时价，您只需要将价格除以3600即可得到每秒的价格。

    从创建到释放抢占式实例的费用精确到小数点后两位。累计费用不足0.01元的部分不收取。

-   **计费时长** 

    按实际使用时长计费。实际使用时长是指从抢占式实例的创建到释放。释放后，抢占式实例才停止计费。如果您在ECS管理控制台上[停止实例](cn.zh-CN/实例/管理实例/启动和停止实例.md#)，或者调用[StopInstance](../../../../cn.zh-CN/API参考/实例/StopInstance.md#)接口停止实例，实例会继续计费。如果您暂时不需要使用抢占式实例，建议您先创建快照备份数据和环境，再释放实例，需要时再重新购买。


## 使用限制 {#section_jky_pst_qgb .section}

使用抢占式实例时，请注意以下限制：

-   抢占式实例不支持转换为预付费实例。
-   抢占式实例不支持变更实例规格。

## 相关文档 {#section_zdc_jt5_ydb .section}

关于抢占式实例的更多问题，请参见[抢占式实例FAQ](https://help.aliyun.com/document_detail/48269.html)。

关于使用API创建抢占式实例的操作，请参见[使用API管理抢占式实例](https://help.aliyun.com/document_detail/61259.html)。

