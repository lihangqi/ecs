# 创建抢占式实例 {#concept_mv5_xxz_xdb .concept}

您可以在ECS控制台上创建抢占式实例。本文主要介绍创建抢占式实例和查看抢占式实例账单的步骤。

## 注意事项 {#section_zdc_jt5_ydb .section}

在使用抢占式实例时，您需要考虑以下内容：

-   选择一个合理的出价：您的出价应该足够高，而且要充分考虑到市场价格的波动。这样，您的抢占请求才会被接受处理，而且创建后才不会因为价格因素被释放。另外，出价还必须符合您根据自身业务评估后的预期。
-   使用的镜像必须包含所需软件的配置，确保实例在创建完成后可以随时启动。您还能使用[实例自定义数据](../cn.zh-CN/实例/管理实例/使用实例自定义数据/生成实例自定义数据.md#)在启动时运行命令。
-   建议您使用不受抢占式实例释放影响的存储介质来保存您的重要数据。例如，您可以使用独立创建的云盘（不能设置为随实例一起释放）、OSS、RDS 等存储数据。
-   将工作拆分为小的任务（使用网格、Hadoop或基于队列的架构）或者使用检查点，便于您经常保存计算结果。
-   使用抢占式实例释放通知来监控抢占式实例的状态。您可以通过[实例元数据](../cn.zh-CN/实例/管理实例/使用实例元数据/什么是实例元数据.md#)每分钟获取一次实例的状态，阿里云ECS释放抢占式实例时，会提前5分钟更新元数据信息。
-   测试您的应用程序，确保它能很好地处理意外释放的实例。您可以使用按量付费实例来运行该应用程序，然后自行释放这台实例，从而确认应用程序是否能处理自动释放的实例。

## 创建抢占式实例 {#section_rt1_5yy_pfb .section}

**说明：** 本步骤重点介绍抢占式实例相关的选项，如需了解其它参数，请参见[使用向导创建实例](cn.zh-CN/实例/创建实例/使用向导创建实例.md#)。

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。
2.  在左侧导航栏，选择**实例与镜像** \> **实例**。
3.  在实例列表页面中，单击**创建实例**。
4.  选择**计费方式**为**抢占式实例**。
5.  在**设置单台实例规格上限价格**输入框，设置价格。

    当您的出价高于当前市场成交价，而且库存充足时，您就能按照市场成交价创建实例。抢占式实例支持一次性竞价请求，包括以下2种出价模式：

    -   **使用自动出价**：选择跟随当前市场价格的模式，即表示始终接受实时的市场价格作为实例规格的计费价格 。
    -   **设定您的最高价**：您必须为指定的实例规格设置一个价格上限，即您愿意为这个实例规格支付的最高价格 。

        **说明：** 您能看到一个价格区间，最高价格与同规格按量付费实例相同。您可以结合自身业务，同时考虑可能的价格波动，在价格区间内设置一个合理的价格。如果您的出价充分考虑了可能的价格波动，一小时保护周期后，您仍能较长时间持有抢占式实例。否则，一小时后，实例随时可能被释放。

6.  选择或者输入您要购买的台数。
7.  配置其余参数。

    参数说明请参见[使用向导创建实例](cn.zh-CN/实例/创建实例/使用向导创建实例.md#)。

8.  确认订单信息后，单击**创建实例**。

抢占式实例创建成功后，您可以在实例列表中查看该实例信息。抢占式实例会被标记为**按量-抢占式实例**。进入实例详情页后，在**付费信息**部分可查看创建实例时设置的出价策略。

您可以通过阿里云CLI、OpenAPI Explorer和阿里云SDK等开发者工具调用[RunInstances](../cn.zh-CN/API参考/实例/RunInstances.md#)创建抢占式实例。

**说明：** 如果需要跟随当前市场实际价格，将SpotStrategy参数设为SpotAsPriceGo。如果需要设置能接受的最高价，将 SpotStrategy参数设为SpotWithPriceLimit。

## 查看抢占式实例账单 {#section_pkj_3qt_qgb .section}

与按量付费实例的收费金额不同，抢占式实例的收费金额是实际成交价格。

**从实例详情页面：**

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。
2.  在左侧导航栏，选择**实例与镜像** \> **实例**。
3.  在实例列表页面，单击待查看抢占式实例的实例ID或者**操作**列下的管理。
4.  在实例详情页面，单击**付费信息**右侧的**更多** \> **查询消费明细**。
5.  在消费明细页面，单击待查看抢占式实例**操作**列下的**详情**。

**从费用中心页面：**

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。
2.  单击**费用** \> **进入费用中心**。
3.  在费用中心页面，单击**消费记录** \> **消费明细**。
4.  在消费明细页面，找到待查看抢占式实例，单击**操作**列下的**详情**。

    **说明：** 您可以按产品、支付状态、账期等条件筛选。


